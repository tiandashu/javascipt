<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>粒子</title>
</head>
<body>
    <canvas></canvas>
</body>
<script>
    /*
    * 1.canvas 绘制小球
    * 2.定时器设置
    * 3.面向对象/基于原型
    *    3.1 初始化小球
    *    3.2 实例化小球
    * 4.鼠标移动的时候
    *    4.1 创建若干个小球
    *
    *
    *
    * */
    var canvas = document.querySelector('canvas');
    var ctx = canvas.getContext('2d');
    var vw = window.innerWidth;//获取屏幕的宽度
    var vh = window.innerHeight;//获取屏幕的高度
    //设置canvas的宽高和屏幕的一致
    canvas.width = vw;
    canvas.height = vh;
    var timer = null;

    function Creat(opt) {//不要在构造函数中写过多的属性,因为每个实例都会复制一份造成内存的浪费
        this.init(opt)//将参数传递给init()
    }
    Creat.prototype = {
        init:function (opt) {//用对象的形式接受参数
            this.x = opt.x,
            this.y = opt.y,
            this.radius = opt.radius*Math.random(),
            this.bgColor = ['red','green','blue','pink','teal','tan']
        },
        draw:function () {
            ctx.beginPath();
            ctx.arc(this.x,this.y,this.radius,0,Math.PI*2);
            ctx.fillStyle = this.bgColor[ parseInt(Math.random()*this.bgColor.length) ];
            ctx.fill();
        }
    }
    //开始设计鼠标移动的场景 鼠标在canvas上移动 获取鼠标的位置并跟随
    canvas.onmousemove = function (e) {
        //获取鼠标当前的位置page.x pgae.y
        var ex = e.pageX;
        var ey = e.pageY;
        setTimeout(function () {
            var qiu = new Creat({
                x:ex,
                y:ey,
                radius:10
            });
            qiu.draw(ctx);
        },1000)
        var qiu = new Creat({
            x:ex,
            y:ey,
            radius:10
        });
        qiu.draw(ctx);
    }

    /*实例化一个小球*/
    var qiu = new Creat({
        x:100,
        y:100,
        radius:100
    });
    qiu.draw(ctx);
</script>
</html>